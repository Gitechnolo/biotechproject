/*
 * Biotech Project - Style Guide & Utility
 * Versione: 2.0.0
 * Autore: Biotech Project Team
 * Data: Ottobre 2025
 * Descrizione: Fogli di stile consolidati e ottimizzati per Biotech Project, 
 * con focus su performance, accessibilità (WCAG 2.1 AA) e design responsivo.
 * Il CSS è pensato per essere minificato per la produzione.
 */

/* === 1. Base Utility & Reset === */

/* Utility per screen readers (SR) e accessibilità */
.visually-hidden, .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0; }

/* Pulsante Salta Contenuto (Skip Link) - Accessibilità */
.skip-link { position: absolute; top: -40px; left: 0; background: #0d3856; color: #fff; padding: 8px 12px; z-index: 1000; text-decoration: none; transition: top 0.3s ease-in-out; border: 1px solid #00c7e2; }
.skip-link:focus { top: 0; outline: 2px solid #00c7e2; outline-offset: 2px; }

/* Base per i temi (Green Theme) */
:root { --theme-color-primary: #00c7e2; /* Blu/Ciano */ --theme-color-secondary: #0d3856; /* Blu Scuro */ --theme-color-highlight: #4caf50; /* Verde chiaro per highlight */ --theme-color-text: #d4d3d3; --theme-color-background: #000f16; --theme-pulse-color: #00c7e2; }

/* Gestione del tema Dinamica (colori da JS) */
.theme-blue { --theme-color-primary: #00c7e2; --theme-color-highlight: #4caf50; --theme-pulse-color: #00c7e2; }
.theme-red { --theme-color-primary: #ff5722; --theme-color-highlight: #e91e63; --theme-pulse-color: #ff5722; }
.theme-gold { --theme-color-primary: #ffeb3b; --theme-color-highlight: #ffc107; --theme-pulse-color: #ffeb3b; }

/* Reset Box Model e Tipografia Base */
* { box-sizing: border-box; }
body { background-color: var(--theme-color-background); color: var(--theme-color-text); min-height: 100vh; }

/* === 2. Tipografia e Font === */

/* Definizioni dei Font Custom (precaricati nell'HTML) */
@font-face { font-family: 'Sansation Bold'; src: url('SansationBold.woff2') format('woff2'); font-weight: bold; font-style: normal; font-display: swap; }
@font-face { font-family: 'Sansation Light Italic'; src: url('SansationLightItalic.woff2') format('woff2'); font-weight: 300; font-style: italic; font-display: swap; }

/* Classi tipografiche */
.sansation-bold { font-family: 'Sansation Bold', system-ui, sans-serif; color: var(--theme-color-primary); }
.sansation-light-italic { font-family: 'Sansation Light Italic', system-ui, sans-serif; font-size: 0.875rem; color: var(--theme-color-text); }
.text { font-size: 1.1rem; line-height: 1.8; }
.highlight-text { color: var(--theme-color-highlight); font-weight: 500; }
.secHeader { font-family: 'Sansation Bold', system-ui, sans-serif; color: var(--theme-color-primary); border-bottom: 2px solid var(--theme-color-highlight); padding-bottom: 5px; margin-top: 30px; margin-bottom: 15px; font-size: 1.8rem; }

/* Stili specifici per l'indice (home page) */
.biotechtitle { font-size: 1rem; line-height: 1.7; margin-bottom: 10px; }
.sidenavtext { font-size: 1.25rem; font-weight: bold; color: var(--theme-color-highlight); text-shadow: 0 0 5px rgba(76, 175, 80, 0.5); }

/* Citazioni e liste */
.quotes { border-left: 4px solid var(--theme-color-highlight); padding-left: 15px; margin: 20px 0; font-style: italic; }
.list { list-style: disc; margin-left: 25px; padding-left: 0; }
.list li { margin-bottom: 5px; }

/* === 3. Componenti Strutturali (Layout & Cards) === */

/* Contenitore principale del contenuto */
.staff-layout-container { padding: 30px 15px; max-width: 900px; margin: 0 auto; }
.staff-row { display: flex; flex-wrap: wrap; justify-content: center; }
.staff-col { width: 100%; }

.staff-card { background-color: rgba(13, 56, 86, 0.2); border-radius: 12px; border: 1px solid rgba(0, 199, 226, 0.3); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); padding: 20px; margin-bottom: 20px; backdrop-filter: blur(3px); }
.staff-container { width: 100%; }

/* === 4. Navigazione e Menu Moderno (Tech Nav) === */

.tech-nav-container { display: flex; justify-content: center; background-color: var(--theme-color-secondary); box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); position: sticky; top: 0; z-index: 500; flex-wrap: wrap; }
.tech-menu-item { position: relative; padding: 0 10px; }
.tech-nav-btn { background-color: transparent; border: none; color: var(--theme-color-text); padding: 15px 20px; font-size: 1rem; cursor: pointer; transition: background-color 0.3s, color 0.3s; font-weight: bold; white-space: nowrap; }
.tech-nav-btn:hover, .tech-nav-btn:focus { background-color: var(--theme-color-primary); color: #000f16; outline: none; }

/* Dropdown Menu */
.tech-dropdown { position: absolute; top: 100%; left: 50%; transform: translateX(-50%); background-color: var(--theme-color-secondary); border: 1px solid var(--theme-color-primary); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8); z-index: 100; min-width: 200px; border-radius: 4px; opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
.tech-dropdown.active { opacity: 1; visibility: visible; }
.biotechidden { display: none; }

.tech-dropdown-content { padding: 10px; display: flex; flex-direction: column; }
.tech-dropdown-content a, .tech-dropdown-content button { padding: 10px 15px; text-decoration: none; color: var(--theme-color-text); background: none; border: none; text-align: left; transition: background-color 0.2s, color 0.2s; cursor: pointer; white-space: nowrap; }
.tech-dropdown-content a:hover, .tech-dropdown-content a:focus,
.tech-dropdown-content button:hover, .tech-dropdown-content button:focus { background-color: var(--theme-color-primary); color: #000f16; outline: none; }

/* === 5. Animazione DNA (Originale a 8 eliche con classi -8) === */

/* Contenitore principale (per centramento e prospettiva) */
.dna-container-8 {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 300px;
    height: 300px;
    perspective: 800px;
    z-index: -1;
    opacity: 0.15; 
    pointer-events: none;
}

/* Definizione del singolo "filamento" o elica */
.dna-helix-8 {
    position: absolute;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    animation: rotate-8 16s infinite linear; /* Rotazione principale */
}

/* Posizionamento 3D delle 8 eliche nel container */
.dna-helix-8:nth-child(1) { transform: rotateY(0deg); }
.dna-helix-8:nth-child(2) { transform: rotateY(45deg); }
.dna-helix-8:nth-child(3) { transform: rotateY(90deg); }
.dna-helix-8:nth-child(4) { transform: rotateY(135deg); }
.dna-helix-8:nth-child(5) { transform: rotateY(180deg); }
.dna-helix-8:nth-child(6) { transform: rotateY(225deg); }
.dna-helix-8:nth-child(7) { transform: rotateY(270deg); }
.dna-helix-8:nth-child(8) { transform: rotateY(315deg); }

/* Linee orizzontali (base pairs) - Elementi base */
/* Usiamo BEFORE (per la singola linea al centro dell'elica) */
.dna-helix-8::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%; /* Posizionato al centro */
    width: 80px;
    height: 1px;
    background: var(--theme-color-primary);
    box-shadow: 0 0 5px var(--theme-color-primary);
    transform: translateX(-50%) rotateY(90deg);
    animation: pulse 3s infinite alternate;
}

/* ⚠️ Keyframes per l'animazione di rotazione DNA (con nome originale) */
@keyframes rotate-8 {
    from { transform: translate(-50%, -50%) rotateY(0deg) rotateX(0deg); }
    to { transform: translate(-50%, -50%) rotateY(360deg) rotateX(0deg); }
}

/* Keyframes per l'animazione di pulsazione (comune) */
@keyframes pulse {
    0% { opacity: 0.5; }
    100% { opacity: 1; transform: translateX(-50%) rotateY(90deg) scale(1.1); }
}

/* === 6. Elementi Visivi e Interattivi === */

/* Logo e animazione pulsante */
.modern-logo { display: block; margin: 15px auto 20px; max-width: 90vw; height: auto; aspect-ratio: 553 / 180; border-radius: 8px; border: 0; opacity: 0.9; }
.pulse-logo { animation: logo-pulse 3s infinite alternate; }
@keyframes logo-pulse { 0% { box-shadow: 0 0 5px rgba(0, 0, 0, 0.5); } 100% { box-shadow: 0 0 15px var(--theme-pulse-color), 0 0 20px rgba(0, 199, 226, 0.3); } }

/* Orologio e Countdown */
.modern-clock, .modern-countdown, .modern-greeting { text-align: center; font-family: 'Sansation Light Italic', system-ui, sans-serif; font-size: 0.9rem; color: var(--theme-color-text); margin-bottom: 5px; }
.modern-countdown span { font-weight: bold; color: var(--theme-color-highlight); }

/* Evidenziazioni per testo scientifico */
.highlight { color: var(--theme-color-primary); font-weight: bold; }
.pronounceable { display: inline-flex; align-items: center; gap: 5px; cursor: help; }
.pronounce-btn { background: var(--theme-color-secondary); color: var(--theme-color-primary); border: 1px solid var(--theme-color-primary); border-radius: 4px; padding: 2px 5px; font-size: 0.8rem; cursor: pointer; transition: background-color 0.2s, color 0.2s; }
.pronounce-btn:hover, .pronounce-btn:focus { background-color: var(--theme-color-primary); color: #000f16; outline: none; }

/* === 7. Responsive e Media Queries === */

@media (max-width: 768px) {
    .tech-nav-container { flex-direction: column; }
    .tech-menu-item { width: 100%; text-align: center; }
    .tech-nav-btn { width: 100%; padding: 10px 0; }
    .tech-dropdown { position: static; transform: none; width: 100%; border-top: 1px solid var(--theme-color-primary); }
    .tech-dropdown-content a, .tech-dropdown-content button { text-align: center; }
    .staff-layout-container { padding: 15px; }
    .dna-container-8 { width: 200px; height: 200px; }
    .secHeader { font-size: 1.5rem; }
}

/* === 8. Accessibilità (Focus Visibility) === */

/* Classe gestita dal pulsante JS per mostrare il focus outline */
.js-keyboard-nav-active a:focus,
.js-keyboard-nav-active button:focus,
.js-keyboard-nav-active input:focus,
.js-keyboard-nav-active .pronounceable:focus { outline: 3px solid var(--theme-color-highlight) !important; outline-offset: 2px; border-radius: 4px; box-shadow: 0 0 5px var(--theme-color-highlight); transition: outline-color 0.2s, box-shadow 0.2s; }

/* Pulsante Toggle Navigazione Tastiera */
.keyboard-toggle-btn { position: fixed; bottom: 20px; right: 20px; background-color: var(--theme-color-secondary); color: var(--theme-color-primary); border: 1px solid var(--theme-color-primary); border-radius: 50px; padding: 10px 15px; cursor: pointer; z-index: 1000; transition: background-color 0.3s, transform 0.3s; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); }
.keyboard-toggle-btn:hover { background-color: var(--theme-color-primary); color: #000f16; transform: scale(1.05); }
.keyboard-toggle-btn[aria-pressed="true"] { background-color: var(--theme-color-highlight); color: #000f16; border-color: var(--theme-color-highlight); }
.hint::before { content: attr(title); position: absolute; right: 100%; bottom: 50%; background-color: #333; color: #fff; padding: 5px 10px; border-radius: 4px; white-space: nowrap; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
.keyboard-toggle-btn:hover .hint::before { opacity: 1; }

/* Stile per NO-JS banner */
.noscript-banner { background-color: #cc0000; color: white; padding: 10px; text-align: center; position: fixed; bottom: 0; left: 0; width: 100%; z-index: 9999; }

/* Stili Footer */
.biotechcenter { text-align: center; margin-top: 10px; }
.biotech-copyright { font-size: 0.75rem; color: #888; }
a.hover-effect { color: var(--theme-color-primary); text-decoration: none; transition: color 0.3s; }
a.hover-effect:hover, a.hover-effect:focus { color: var(--theme-color-highlight); text-decoration: underline; }